<div class="container">
	<div class="row top-buffer">
		<div class="col-12 border border-dark rounded p-2 matrix-bg">
			<div>
				<h3>Cost efficiency matrices</h3>
			</div>
			<div>
				<h5>Purpose</h5>
				<p>The purpose of a cost efficiency matrix is to depict the cost efficiency of each unit type versus every other unit type.</p>
			</div>
			<div>
				<h5>Let's take the cell [row 2, column 5] of matrix 1 as an example. It says 3.43. What does that mean?</h5>
				<ul>
					<li>Row 2 means Champions. Column 5 means Hussars. So it's about the cost efficiency of Champions vs. Hussars.</li>
					<li>There are always 50 units of the respective row's unit type, so in our example Champions.</li>
					<li>They are always fighting against units of equal worth of the respective column's unit type, so in our example Hussars.</li>
					<li>Cost efficiency matrix 1 assumes food, wood & gold to be of equal worth
						=> A Champion costs 65 generic resources and a Hussar costs 80.</li>
					<li>50 Champions cost 50*65=3250 resources. With 3250 resources you get 3250/80=40.625 Hussars (let's round it to 41).</li>
					<li>So the cell [row 2, column 5] is about a combat simulation between 50 Champions and 41 Hussars (equal worth).</li>
					<li>To get reliable average results each combat simulation is repeated 20 times.</li>
					<li>The cost efficiency value of 3.43 means that the worth of all dead units of army 2 (Hussars) is 3.43 times as high as the worth of all dead units of army 1 (Champions).</li>
				</ul>
				Some <b>true</b> conclusions we can deduce from the results include:
				<ul>
					<li>If we assume food, wood and gold to be of equal worth, Champions are highly cost efficient vs. Hussars.</li>
					<li>If we have two players with an equally strong economy, player 1 only produces Champions and player 2 only produces Hussars, player 2 will lose 3.43 times as many resources during fights as player 1.</li>
				</ul>
				Some <b>false</b> conclusions would include:
				<ul>
					<li>Champions are 3.43 times as strong as Hussars.</li>
					<li>Champions trade equally with Hussars when there are 3.43 times as many Hussars.</li>
					<li>A Hussar army fighting a Champion army of equal worth will lose 3.43 times as many units as the Champion army (correct would be: ' will lose 3.43 times as many generic resources').</li>
				</ul>
			</div>
			<div>
				<h5>How are cost efficiency values of 0 or &#8734; possible?</h5>
				<p>
					The remaining hitpoints of combat survivors are not respected in the cost efficiency value; only the number of survivors are respected!
					Hence, if in a certain matchup all units of army 1 or army 2 survive (in each simulation repetition) the cost efficiency value will be &#8734; or 0 respectively.
					Two examples:
				</p>
				<ul>
					<li>
						Example 1: 50 Villagers fight an army of Champions of equal worth (approximately 38 Champions). All 38 Champions will always survive.
						Hence the worth of units lost by army 2 (the Champions) is '0 times as high' as the worth of units lost by army 1 (the Villagers).
						That means: The cost efficiency value of Villagers vs. Champions is 0.
					</li>
					<li>
						Example 2: 50 Champions fight an army of Villagers of equal worth (65 Villagers). All 50 Champions will always survive.
						Hence the worth of units lost by army 2 (the Villagers) is '&#8734; times as high' (because we divide by zero) as the worth of units lost by army 1 (the Champions).
						That means: The cost efficiency value of Champions vs. Villagers is &#8734;.
					</li>
				</ul>
			</div>
			<div>
				<h5>Important notes</h5>
				Always keep in mind...
				<ul>
					<li>The matrices are not about equal army sizes, only about cost efficiency (armies of equal worth). This is why e.g. Champions easily win vs. Woad Raiders.</li>
					<li>The higher the number, the more cost efficient the matchup will be for the unit type of the respective row.</li>
					<li>A number smaller than 1 means cost inefficient, a number larger than 1 means cost efficient.</li>
					<li>There are matrices with different Hit&Run settings. E.g. in the matrix without Hit&Run Champions are cost efficient against Arbalesters (1.85), but as soon as we only use Medium Hit&Run they are not cost efficient anymore (0.63).</li>
				</ul>
				Furthermore...
				<ul>
					<li>
						Melee vs. melee and ranged vs. ranged simulation results are more accurate than melee vs. ranged ones.
						This is because Hit&Run, path finding and target selection issues are less problematic when either all involved unit types are melee or all involved unit types are ranged.
						However, also most melee vs. ranged results seem very reasonable to me.
					</li>
					<li>
						For more info, have a look at the info tab.
					</li>
					<li>
						Adding the remaining unique units isn't a problem at all, but I have to think about a viable way of visualizing/displaying such a huge matrix.
					</li>
				</ul>
			</div>
		</div>
	</div>

	<div class="row top-buffer">
		<div class="col-12 border border-dark rounded p-2 matrix-bg">
			<div class="row no-gutters">
				<h3>Cost efficiency matrix 1</h3>
			</div>
			<div class="row no-gutters">
				<ul>
					<li>No Hit&Run</li>
					<li>Food & wood & gold of equal worth</li>
				</ul>
			</div>

			<div class="row no-gutters text-center">
				<table class="table table-sm table-dark">
					<thead>
						<tr>
							<th scope="col"></th>
							<th *ngFor="let utInd of CreateIncrArray(numberUtToDisplay)" scope="col">
								<span *ngIf="matrixUts[utInd].imagePath == ''">{{matrixUts[utInd].name}}</span>
								<img *ngIf="matrixUts[utInd].imagePath != ''" src="{{matrixUts[utInd].imagePath}}" class="border border-dark img-fluid" title="{{matrixUts[utInd].name}}">
							</th>
						</tr>
					</thead>
					<tbody>
						<tr *ngFor="let utInd of CreateIncrArray(numberUtToDisplay); index as i">
							<td>
								<span *ngIf="matrixUts[utInd].imagePath == ''">{{matrixUts[utInd].name}}</span>
								<img *ngIf="matrixUts[utInd].imagePath != ''" src="{{matrixUts[utInd].imagePath}}" class="border border-dark img-fluid" title="{{matrixUts[utInd].name}}">
							</td>
							<td *ngFor="let utInd2 of CreateIncrArray(numberUtToDisplay); index as j" [style.background-color]="getSurvivorsColor(combatresultsNoHnR[i][j])" class="align-middle">
								<span class="align-middle">{{combatresultsNoHnR[i][j] | number : '1.0-2'}}</span>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>

	<div class="row top-buffer">
		<div class="col-12 border border-dark rounded p-2 matrix-bg">
			<div class="row no-gutters">
				<h3>Cost efficiency matrix 2</h3>
			</div>
			<div class="row no-gutters">
				<ul>
					<li>Medium Hit&Run</li>
					<li>Food & wood & gold of equal worth</li>
				</ul>
			</div>

			<div class="row no-gutters text-center">
				<table class="table table-sm table-dark">
					<thead>
						<tr>
							<th scope="col"></th>
							<th *ngFor="let utInd of CreateIncrArray(numberUtToDisplay)" scope="col">
								<span *ngIf="matrixUts[utInd].imagePath == ''">{{matrixUts[utInd].name}}</span>
								<img *ngIf="matrixUts[utInd].imagePath != ''" src="{{matrixUts[utInd].imagePath}}" class="border border-dark img-fluid" title="{{matrixUts[utInd].name}}">
							</th>
						</tr>
					</thead>
					<tbody>
						<tr *ngFor="let utInd of CreateIncrArray(numberUtToDisplay); index as i">
							<td>
								<span *ngIf="matrixUts[utInd].imagePath == ''">{{matrixUts[utInd].name}}</span>
								<img *ngIf="matrixUts[utInd].imagePath != ''" src="{{matrixUts[utInd].imagePath}}" class="border border-dark img-fluid" title="{{matrixUts[utInd].name}}">
							</td>
							<td *ngFor="let utInd2 of CreateIncrArray(numberUtToDisplay); index as j" [style.background-color]="getSurvivorsColor(combatresultsSemiHnR[i][j])" class="align-middle">
								<span class="align-middle">{{combatresultsSemiHnR[i][j] | number : '1.0-2'}}</span>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>

	<div class="row top-buffer">
		<div class="col-12 border border-dark rounded p-2 matrix-bg">
			<div class="row no-gutters">
				<h3>Cost efficiency matrix 3</h3>
			</div>
			<div class="row no-gutters">
				<ul>
					<li>Perfect Hit&Run</li>
					<li>Food & wood & gold of equal worth</li>
				</ul>
			</div>

			<div class="row no-gutters text-center">
				<table class="table table-sm table-dark">
					<thead>
						<tr>
							<th scope="col"></th>
							<th *ngFor="let utInd of CreateIncrArray(numberUtToDisplay)" scope="col">
								<span *ngIf="matrixUts[utInd].imagePath == ''">{{matrixUts[utInd].name}}</span>
								<img *ngIf="matrixUts[utInd].imagePath != ''" src="{{matrixUts[utInd].imagePath}}" class="border border-dark img-fluid" title="{{matrixUts[utInd].name}}">
							</th>
						</tr>
					</thead>
					<tbody>
						<tr *ngFor="let utInd of CreateIncrArray(numberUtToDisplay); index as i">
							<td>
								<span *ngIf="matrixUts[utInd].imagePath == ''">{{matrixUts[utInd].name}}</span>
								<img *ngIf="matrixUts[utInd].imagePath != ''" src="{{matrixUts[utInd].imagePath}}" class="border border-dark img-fluid" title="{{matrixUts[utInd].name}}">
							</td>
							<td *ngFor="let utInd2 of CreateIncrArray(numberUtToDisplay); index as j" [style.background-color]="getSurvivorsColor(combatresultsFullHnR[i][j])" class="align-middle">
								<span class="align-middle">{{combatresultsFullHnR[i][j] | number : '1.0-2'}}</span>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>

	<div class="row top-buffer">
		<div class="col-12 border border-dark rounded p-2 matrix-bg">
			<div class="row no-gutters">
				<h3>Cost efficiency matrix 4</h3>
			</div>
			<div class="row no-gutters">
				<ul>
					<li>No Hit&Run</li>
					<li>Late game market prices (100 food = 100 wood = 17 gold)</li>
				</ul>
			</div>

			<div class="row no-gutters text-center">
				<table class="table table-sm table-dark">
					<thead>
						<tr>
							<th scope="col"></th>
							<th *ngFor="let utInd of CreateIncrArray(numberUtToDisplay)" scope="col">
								<span *ngIf="matrixUts[utInd].imagePath == ''">{{matrixUts[utInd].name}}</span>
								<img *ngIf="matrixUts[utInd].imagePath != ''" src="{{matrixUts[utInd].imagePath}}" class="border border-dark img-fluid" title="{{matrixUts[utInd].name}}">
							</th>
						</tr>
					</thead>
					<tbody>
						<tr *ngFor="let utInd of CreateIncrArray(numberUtToDisplay); index as i">
							<td>
								<span *ngIf="matrixUts[utInd].imagePath == ''">{{matrixUts[utInd].name}}</span>
								<img *ngIf="matrixUts[utInd].imagePath != ''" src="{{matrixUts[utInd].imagePath}}" class="border border-dark img-fluid" title="{{matrixUts[utInd].name}}">
							</td>
							<td *ngFor="let utInd2 of CreateIncrArray(numberUtToDisplay); index as j" [style.background-color]="getSurvivorsColor(combatresultsNoHnR_LGMP[i][j])" class="align-middle">
								<span class="align-middle">{{combatresultsNoHnR_LGMP[i][j] | number : '1.0-2'}}</span>
							</td>
						</tr>
					</tbody>
				</table>
			</div>

			<div class="row no-gutters">
				<h5>A few exemplary insights we can deduce from matrix 4</h5>
			</div>

			<div class="row no-gutters">
				With late game market exchange rates and no Hit&Run the matrix says about the so called Trash units...
				<ul>
					<li><b>Halberdiers</b> are cost efficient vs. everything except Elite Teutonic Knights, Skirmishers and Elite Berserks (almost a draw).</li>
					<li><b>Hussars</b> are cost efficient vs. everything except Elite Teutonic Knights, Elite War Elephants and Halberdiers.</li>
					<li><b>Elite Skirmishers</b> are cost efficient vs. everything except Hussars, Paladins, Elite Battle Elephants, Elite War Elephants,
						Elite Huskarls, Elite Teutonic Knights, Elite Berserks, Champions, Elite Woad Raiders and Elite Samurais.</li>
				</ul>
				<p>
					So when all players are entirely out of gold, the matrix suggests selling food and/or wood at the market in order to create
					some of the mentioned units instead of (or in addition to) trash units.
				</p>
				<p>
					Especially the <b>Elite Teutonic Knight</b> seems exceptionally well suited for late game trash wars, considering it trades very cost efficiently
					with all three types of trash units even when you acquire the necessary gold entirely by selling food and wood at the market.
					But also the <b>Elite War Elephant</b> and the <b>Elite Berserk</b> are able to cost efficiently trade with two of the three trash unit types
					(or almost cost efficiently in case of the latter one).
				</p>
			</div>
		</div>
	</div>
</div>