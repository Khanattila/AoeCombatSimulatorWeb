<div class="container border border-dark rounded no-gutters pb-2 player{{player.playerIndex}}-bg">
	<div class="row">
		<div class="col-12 text-center mt-2" ngbDropdown>
			<button class="btn btn-success" id="dropdownBasic3" ngbDropdownToggle>Player {{player.playerIndex + 1}}: {{player.civilization.name}}</button>
			<div ngbDropdownMenu aria-labelledby="dropdownBasic3">
				<button *ngFor="let civ of player.civs; index as i" ngbDropdownItem (click)="setCiv(i)">{{player.civs[i].name}}</button>
			</div>
		</div>
	</div>

	<hr>

	<div class="row">
		<div class="col-12">
			<table class="table table-sm table-dark">
				<thead>
					<tr>
						<th scope="col">Unit type</th>
						<th scope="col">#Units</th>
						<th scope="col">#Avg. survivors</th>
					</tr>
				</thead>
				<tbody>
					<tr *ngFor="let item of getCivUnitTypeIndices()" [hidden]="simulator.hideUnitTypesWithZeroUnits && player.amountStartUnits[player.civUts[item].unitTypeIndex]==0">
						<td class="align-middle">
							<!--<label [attr.for]="'numberInput'+player.playerIndex+item">{{player.uts[item].name}}</label>-->
							<span *ngIf="player.uts[player.civUts[item].unitTypeIndex].imagePath == ''">{{player.uts[player.civUts[item].unitTypeIndex].name}}</span>
							<img *ngIf="player.uts[player.civUts[item].unitTypeIndex].imagePath != ''" src="{{player.uts[player.civUts[item].unitTypeIndex].imagePath}}" class="border border-dark img-fluid" title="{{player.uts[player.civUts[item].unitTypeIndex].name}}">
						</td>
						<td><input type="number" class="form-control" id="numberInput{{player.playerIndex}}{{item}}" oninput="this.value = this.value.replace(/[^0-9]/g, ''); if (this.value == ''){ this.value = '0'; }; if (this.value > 200) { this.value = '200'; }" value="0" min="0" max="200" [(ngModel)]="player.amountStartUnits[player.civUts[item].unitTypeIndex]"></td>
						<td class="text-center align-middle" [style.background-color]="getSurvivorsColor(player.civUts[item].unitTypeIndex)">{{player.avgSurvivorsNumber[player.civUts[item].unitTypeIndex] | number : '1.0-2'}}</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>

	<hr>

	<div class="row no-gutters">
		<table class="table table-sm table-dark text-center">
			<thead>
				<tr>
					<th scope="col"></th>
					<th scope="col"><img src="assets/Aoe2de_population.png" class="border border-dark img-fluid"></th>
					<th scope="col"><img src="assets/Aoe2de_food.png" class="border border-dark img-fluid"></th>
					<th scope="col"><img src="assets/Aoe2de_wood.png" class="border border-dark img-fluid"></th>
					<th scope="col"><img src="assets/Aoe2de_gold.png" class="border border-dark img-fluid"></th>
					<th scope="col"><img src="assets/sum1.png" class="border border-dark img-fluid"></th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td>Invested</td>
					<td>{{player.populationInvested | number : '1.0-2'}}</td>
					<td>{{player.resourcesInvested[0] | number : '1.0-2'}}</td>
					<td>{{player.resourcesInvested[1] | number : '1.0-2'}}</td>
					<td>{{player.resourcesInvested[2] | number : '1.0-2'}}</td>
					<td>{{player.resourcesInvestedTotal | number : '1.0-2'}}</td>
				</tr>
				<tr [hidden]="player.resourcesGeneratedTotal == 0">
					<td>Generated</td>
					<td>{{player.populationGenerated | number : '1.0-2'}}</td>
					<td>{{player.resourcesGenerated[0] | number : '1.0-2'}}</td>
					<td>{{player.resourcesGenerated[1] | number : '1.0-2'}}</td>
					<td>{{player.resourcesGenerated[2] | number : '1.0-2'}}</td>
					<td>{{player.resourcesGeneratedTotal | number : '1.0-2'}}</td>
				</tr>
				<tr>
					<td>Lost</td>
					<td>{{player.populationLost | number : '1.0-2'}}</td>
					<td>{{player.resourcesLost[0] | number : '1.0-2'}}</td>
					<td>{{player.resourcesLost[1] | number : '1.0-2'}}</td>
					<td>{{player.resourcesLost[2] | number : '1.0-2'}}</td>
					<td>{{player.resourcesLostTotal | number : '1.0-2'}}</td>
				</tr>
				<tr>
					<td>Remaining</td>
					<td>{{player.populationRemaining | number : '1.0-2'}}</td>
					<td>{{player.resourcesRemaining[0] | number : '1.0-2'}}</td>
					<td>{{player.resourcesRemaining[1] | number : '1.0-2'}}</td>
					<td>{{player.resourcesRemaining[2] | number : '1.0-2'}}</td>
					<td>{{player.resourcesRemainingTotal | number : '1.0-2'}}</td>
				</tr>
			</tbody>
		</table>

		<table class="table table-sm table-dark">
			<thead>
				<tr class="text-center">
					<th scope="col">#Wins</th>
				</tr>
			</thead>
			<tbody>
				<tr class="text-center">
					<td>{{player.sumWins}} ({{100.0 * player.sumWins / simulator.numberOfSimulationsLastRun | number : '1.0-2'}}%)</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>